{% extends "base.html" %}
{% block html_headers %}
{# http://stackoverflow.com/questions/7218010/ajax-radio-buttons-dont-work #}
<script language="javascript" type="text/javascript">
	$(document).ready(function() {
		$(':radio').click(function() {
			var valueSelected = this.value;
			var buttonSelected = this.id.replace(valueSelected + '_','');
			//alert('Button Selected: ' + buttonSelected + "\nValue Selected: " + valueSelected);
			$.ajax({
				type: "GET",
				url: '{% url quest-store-answer course_code_slug=course, question_set_slug=qset, question_id=item_id %}?entered=' + valueSelected,
				data:  '',
				cache: false,
				success: function(result) {
					$('#ajaxDiv').html(result);
				},
				error: function (response, desc, exception) {
					// custom error
				}
			});

		});
	});
</script>
{% endblock %}

{% block content %}

    <h2>Question {{item_id}} of {{quests_lists|length}}</h2>

    <div id="quest-item-header">
        <div id="quest-item-header-left">{% if item.prev_q %}
            <a href="{% url quest-ask-specific-question course_code_slug=course, question_set_slug=qset, question_id=item_id|add:"-1" %}">Previous</a>{% endif %}</div>
        <div id="quest-item-header-right">{% if item.next_q %}
            <a href="{% url quest-ask-specific-question course_code_slug=course, question_set_slug=qset, question_id=item_id|add:"1" %}">Next</a>{% endif %}</div>
    </div>


    <div id="quest-itemdisp-container">
        <div class="quest-item-row">
            {{item.as_displayed|safe}}
        </div>
    </div>

    <div style="clear: both;"><p>&nbsp;</div>
    {% if last_question %}
        <div id="quest-item-header">
            <div id="quest-item-header-left">{% if item.prev_q %}
                <a href="{% url quest-ask-specific-question course_code_slug=course, question_set_slug=qset, question_id=item_id|add:"-1" %}">Previous</a>{% endif %}</div>
            <div id="quest-item-header-right">Submit answers</div>
        </div>
    {% else %}
         <div id="quest-item-header-left">{% if item.prev_q %}
          <a href="{% url quest-ask-specific-question course_code_slug=course, question_set_slug=qset, question_id=item_id|add:"-1" %}">Previous</a>{% endif %}</div>
        <div id="quest-item-header-right">{% if item.next_q %}
          <a href="{% url quest-ask-specific-question course_code_slug=course, question_set_slug=qset, question_id=item_id|add:"1" %}">Next</a>{% endif %}</div>
    {% endif %}

	<div id="ajaxDiv">AjaxDiv</div>

{% endblock %}